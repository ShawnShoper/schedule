<!DOCTYPE html>
<html>
<head lang="en">
<meta charset="UTF-8">
<title></title>
<!-- <link rel="stylesheet" href="../css/base.css"/> -->
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<!--<script src="assets/bootstrap2.3/js/bootstrap.min.js"></script>-->
<script src="js/tableExport.js"></script>
<script src="js/jquery.base64.js"></script>
<script src="js/bootstrap-table.js"></script>
<script src="js/bootstrap-table-export.js"></script>
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/bootstrap-table.min.css">
</head>
<body>
<!-- data-page-list="[5, 10, 20, 50, 100, 200]" -->
	<table id="table" data-toggle="table" data-url="/cluster/getInfo"
		data-pagination="true"
		data-side-pagination="server"
		data-search="true"
		data-show-refresh="true" data-show-columns="true" data-height="500">
		<thead>
			<tr>
				<th data-field="address" data-align="center">地址</th>
				<th data-field="status" data-align="center"> 状态</th>
				<th data-field="group" data-align="center">所属组</th>
				<th data-field="provideName" data-align="provideName">服务名</th>
				<th data-field="version" data-align="center">版本</th>
				<th data-field="serveTimes" data-align="center">服务次数</th>
				<th data-field="startTime" data-align="center">启动时间</th>
				<th data-field="holdeCount" data-align="center">任务数</th>
				<th data-field="cpuIdlePercent" data-align="center">CPU空闲百分比</th>
				<th data-field="memUsedPercent" data-align="center">内存使用百分比</th>
			</tr>
		</thead>
	</table>
	<script type="text/javascript">
	
		$(function(){
			setInterval(hi, 3000)
			function hi(){
				$("button[name='refresh']").click();
			}


			$('#table').on('dbl-click-row.bs.table', function (e, row, $element) {
				alert("ceshi");
				$("#myModalLabel").html("服务器任务详情");
				$("#scanTask").draggable({
					handle: ".modal fade"
				}).modal();
				$("#scanTask input[name='address']").val(row.address);
				$("#scanTask input[name='taskID']").val(row.taskID);

				$("#scanTask input[name='taskName']").val(row.taskName);
			});
		});
	</script>
<div class="modal fade" id="scanTask" tabindex="-1" role="dialog"
	 aria-labelledby="myModalLabel" aria-hidden="true">
	<table >
		<thead>
			<tr>
				<th data-field="address" data-align="center">地址</th>
				<th data-field="taskID" data-align="center"> 任务ID</th>
				<th data-field="taskName" data-align="center">任务名</th>
				<th data-field="killTask" data-align="center">是否结束任务</th>
			</tr>
		</thead>
		</table>
	</div>
</body>
</html>